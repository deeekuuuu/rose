<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>flower</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 10px;
            touch-action: pan-y;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: white;
            margin-bottom: 20px;
            font-size: 2em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .instructions {
            background: rgba(255, 255, 255, 0.9);
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 15px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            font-size: 14px;
        }

        .flower-palette {
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 15px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        .flower-palette h2 {
            margin-bottom: 12px;
            color: #333;
            font-size: 1.3em;
        }

        .palette-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 12px;
            padding: 8px;
        }

        .flower-item {
            cursor: pointer;
            padding: 8px;
            background: white;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.2s, box-shadow 0.2s;
            user-select: none;
            touch-action: none;
        }

        .flower-item:active {
            transform: scale(0.95);
        }

        .flower-item.dragging {
            opacity: 0.7;
            transform: scale(1.1);
            z-index: 1000;
        }

        .flower-item img {
            width: 70px;
            height: 70px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 5px;
            pointer-events: none;
        }

        .flower-name {
            font-size: 11px;
            color: #666;
            font-weight: 600;
            pointer-events: none;
        }

        .canvas-area {
            background: rgba(255, 255, 255, 0.95);
            min-height: 400px;
            border-radius: 15px;
            padding: 15px;
            position: relative;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        .canvas-area h2 {
            margin-bottom: 12px;
            color: #333;
            font-size: 1.3em;
        }

        .drop-zone {
            background: linear-gradient(45deg, #f0f9ff 25%, transparent 25%, transparent 75%, #f0f9ff 75%, #f0f9ff),
                        linear-gradient(45deg, #f0f9ff 25%, transparent 25%, transparent 75%, #f0f9ff 75%, #f0f9ff);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            border: 2px dashed #4a90e2;
            border-radius: 10px;
            min-height: 350px;
            position: relative;
            overflow: hidden;
            touch-action: none;
        }

        .dropped-flower {
            position: absolute;
            cursor: move;
            touch-action: none;
            z-index: 1;
        }

        .dropped-flower.dragging {
            opacity: 0.8;
            transform: scale(1.15);
            z-index: 100;
        }

        .dropped-flower img {
            width: 90px;
            height: 90px;
            object-fit: cover;
            border-radius: 50%;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            border: 3px solid white;
            pointer-events: none;
        }

        .remove-btn {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff4444;
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            font-size: 18px;
            line-height: 30px;
            z-index: 11;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .remove-btn:active {
            transform: scale(0.9);
        }

        .controls {
            margin-top: 12px;
            text-align: center;
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            background: #4a90e2;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
            touch-action: manipulation;
        }

        .btn:active {
            background: #357abd;
            transform: scale(0.95);
        }

        /* Mobile optimizations */
        @media (max-width: 600px) {
            h1 {
                font-size: 1.5em;
                margin-bottom: 15px;
            }

            .palette-grid {
                grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
                gap: 10px;
            }

            .flower-item img {
                width: 60px;
                height: 60px;
            }

            .dropped-flower img {
                width: 80px;
                height: 80px;
            }

            .btn {
                padding: 10px 16px;
                font-size: 13px;
            }
        }

        .ghost-image {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.8;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1> Flower Garden </h1>
        
        <div class="instructions">
             <p><strong></strong> Hii soo this is a normal version ku ki vo chala nai tha to me ek bar ke lia normal sa ana diya hope you will like this also too aach lage to bata denna ek bar if  ye be work nai kia  to tell me i willl flowerIndex this 
            </p>
        </div>

        <div class="flower-palette">
            <h2>Flower Palette</h2>
            <div class="palette-grid" id="palette">
                <!-- Flowers will be added here -->
            </div>
        </div>

        <div class="canvas-area">
            <h2>Your Garden</h2>
            <div class="drop-zone" id="dropZone">
                <!-- Dropped flowers appear here -->
            </div>
            <div class="controls">
                <button class="btn" onclick="clearGarden()">Clear Garden</button>
                <button class="btn" onclick="randomizeFlowers()">Add Random</button>
            </div>
        </div>
    </div>

    <script>
        /*
        ============================================
        HOW TO ADD YOUR OWN FLOWER IMAGES:
        ============================================
        
        METHOD 1: LOCAL IMAGES (Recommended)
        -------------------------------------
        1. Create a folder named "images" in the same location as this HTML file
        2. Put your flower images in that folder
        3. Add them to the array below:
        
        { name: 'My Rose', image: 'images/rose.jpg' },
        { name: 'My Tulip', image: 'images/tulip.png' },
        
        METHOD 2: ONLINE IMAGE URLS
        ----------------------------
        { name: 'Online Flower', image: 'https://example.com/flower.jpg' },
        
        METHOD 3: BASE64 ENCODED
        -------------------------
        { name: 'Encoded Flower', image: 'data:image/jpeg;base64,/9j/4AAQ...' },
        
        ============================================
        */

            const flowers = [
            
            { name: 'Rose', image: 'image/rose.jpg' },
            { name: 'Tulip', image: 'image/tulip.jpg' },
            { name: 'Sunflower', image: 'image/sunflower.jpg' },
            { name: 'Daisy', image: 'image/daisy.jpg' },
            { name: 'Orchid', image: 'image/orchid.jpg' },
            { name: 'Lily', image: 'image/lily.jpg' },
            { name: 'Lavender', image: 'image/lavender.jpg' },
            { name: 'Hydrangea', image: 'image/Hydrangea.jpg' },
            { name: 'Peony', image: 'image/Peony.jpg' },
            { name: 'Carnation', image: 'image/Carnation.jpg' },
            { name: 'Dahlia', image: 'image/Dahlia.jpg' },
            { name: 'Marigold', image: 'image/Marigold.jpg' }
        ];

        const palette = document.getElementById('palette');
        const dropZone = document.getElementById('dropZone');
        let flowerCounter = 0;
        let activeTouch = null;
        let currentDragElement = null;

        // Initialize palette
        flowers.forEach((flower, index) => {
            const flowerItem = document.createElement('div');
            flowerItem.className = 'flower-item';
            flowerItem.dataset.flowerIndex = index;
            flowerItem.innerHTML = `
                <img src="${flower.image}" alt="${flower.name}">
                <div class="flower-name">${flower.name}</div>
            `;
            
            // Desktop drag events
            flowerItem.draggable = true;
            flowerItem.addEventListener('dragstart', handleDragStart);
            
            // Mobile touch events
            flowerItem.addEventListener('touchstart', handleTouchStart, { passive: false });
            flowerItem.addEventListener('touchmove', handleTouchMove, { passive: false });
            flowerItem.addEventListener('touchend', handleTouchEnd, { passive: false });
            
            palette.appendChild(flowerItem);
        });

        // ===== DESKTOP DRAG & DROP =====
        function handleDragStart(e) {
            currentDragElement = e.target.closest('.flower-item, .dropped-flower');
            e.dataTransfer.effectAllowed = 'copy';
            setTimeout(() => currentDragElement.classList.add('dragging'), 0);
        }

        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'copy';
        });

        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            
            if (currentDragElement) {
                const rect = dropZone.getBoundingClientRect();
                const x = e.clientX - rect.left - 50;
                const y = e.clientY - rect.top - 50;
                
                const flowerIndex = currentDragElement.dataset.flowerIndex;
                if (flowerIndex !== undefined) {
                    addFlowerToCanvas(flowerIndex, x, y);
                } else if (currentDragElement.classList.contains('dropped-flower')) {
                    const offsetX = parseFloat(e.dataTransfer.getData('offsetX')) || 45;
                    const offsetY = parseFloat(e.dataTransfer.getData('offsetY')) || 45;
                    const newX = e.clientX - rect.left - offsetX;
                    const newY = e.clientY - rect.top - offsetY;
                    
                    currentDragElement.style.left = `${Math.max(0, Math.min(newX, dropZone.offsetWidth - 90))}px`;
                    currentDragElement.style.top = `${Math.max(0, Math.min(newY, dropZone.offsetHeight - 90))}px`;
                }
                
                currentDragElement.classList.remove('dragging');
                currentDragElement = null;
            }
        });

        // ===== MOBILE TOUCH SUPPORT =====
        function handleTouchStart(e) {
            e.preventDefault();
            const touch = e.touches[0];
            activeTouch = touch.identifier;
            currentDragElement = e.target.closest('.flower-item, .dropped-flower');
            
            if (currentDragElement) {
                currentDragElement.classList.add('dragging');
                currentDragElement.dataset.startX = touch.clientX;
                currentDragElement.dataset.startY = touch.clientY;
                
                if (currentDragElement.classList.contains('dropped-flower')) {
                    const rect = currentDragElement.getBoundingClientRect();
                    currentDragElement.dataset.offsetX = touch.clientX - rect.left;
                    currentDragElement.dataset.offsetY = touch.clientY - rect.top;
                }
            }
        }

        function handleTouchMove(e) {
            e.preventDefault();
            if (!currentDragElement || activeTouch === null) return;
            
            const touch = Array.from(e.touches).find(t => t.identifier === activeTouch);
            if (!touch) return;

            if (currentDragElement.classList.contains('dropped-flower')) {
                // Move existing flower in canvas
                const rect = dropZone.getBoundingClientRect();
                const offsetX = parseFloat(currentDragElement.dataset.offsetX) || 45;
                const offsetY = parseFloat(currentDragElement.dataset.offsetY) || 45;
                
                const x = touch.clientX - rect.left - offsetX;
                const y = touch.clientY - rect.top - offsetY;
                
                currentDragElement.style.left = `${Math.max(0, Math.min(x, dropZone.offsetWidth - 90))}px`;
                currentDragElement.style.top = `${Math.max(0, Math.min(y, dropZone.offsetHeight - 90))}px`;
            }
        }

        function handleTouchEnd(e) {
            e.preventDefault();
            if (!currentDragElement) return;
            
            const touch = Array.from(e.changedTouches).find(t => t.identifier === activeTouch);
            if (!touch) return;

            // If dragging from palette, add to canvas
            const flowerIndex = currentDragElement.dataset.flowerIndex;
            if (flowerIndex !== undefined) {
                const dropRect = dropZone.getBoundingClientRect();
                
                // Check if touch ended over drop zone
                if (touch.clientX >= dropRect.left && touch.clientX <= dropRect.right &&
                    touch.clientY >= dropRect.top && touch.clientY <= dropRect.bottom) {
                    
                    const x = touch.clientX - dropRect.left - 45;
                    const y = touch.clientY - dropRect.top - 45;
                    addFlowerToCanvas(flowerIndex, x, y);
                }
            }
            
            currentDragElement.classList.remove('dragging');
            currentDragElement = null;
            activeTouch = null;
        }

        // ===== ADD FLOWER TO CANVAS =====
        function addFlowerToCanvas(flowerIndex, x, y) {
            const flower = flowers[flowerIndex];
            const droppedFlower = document.createElement('div');
            droppedFlower.className = 'dropped-flower';
            droppedFlower.dataset.flowerId = flowerCounter++;
            droppedFlower.style.left = `${Math.max(0, Math.min(x, dropZone.offsetWidth - 90))}px`;
            droppedFlower.style.top = `${Math.max(0, Math.min(y, dropZone.offsetHeight - 90))}px`;
            
            droppedFlower.innerHTML = `
                <img src="${flower.image}" alt="${flower.name}">
                <button class="remove-btn" onclick="removeFlower(this)">Ã—</button>
            `;
            
            // Desktop drag
            droppedFlower.draggable = true;
            droppedFlower.addEventListener('dragstart', (e) => {
                currentDragElement = e.target.closest('.dropped-flower');
                const rect = currentDragElement.getBoundingClientRect();
                e.dataTransfer.setData('offsetX', e.clientX - rect.left);
                e.dataTransfer.setData('offsetY', e.clientY - rect.top);
            });
            
            // Mobile touch
            droppedFlower.addEventListener('touchstart', handleTouchStart, { passive: false });
            droppedFlower.addEventListener('touchmove', handleTouchMove, { passive: false });
            droppedFlower.addEventListener('touchend', handleTouchEnd, { passive: false });
            
            dropZone.appendChild(droppedFlower);
        }

        // ===== UTILITY FUNCTIONS =====
        function removeFlower(btn) {
            btn.closest('.dropped-flower').remove();
        }

        function clearGarden() {
            dropZone.innerHTML = '';
        }

        function randomizeFlowers() {
            for (let i = 0; i < 8; i++) {
                const randomFlower = Math.floor(Math.random() * flowers.length);
                const x = Math.random() * (dropZone.offsetWidth - 90);
                const y = Math.random() * (dropZone.offsetHeight - 90);
                addFlowerToCanvas(randomFlower, x, y);
            }
        }
    </script>
</body>
</html>
